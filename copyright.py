from pyrogram import Client, filters
import os
from pyrogram.types import InlineKeyboardButton, InlineKeyboardMarkup
from pyrogram import filters


# -------------------------------------------------------------------------------------

BOT_USERNAME = os.environ.get("BOT_USERNAME","Group_SecurityRobot")

OWNER_ID = "6664582540"
# -------------------------------------------------------------------------------------

API_ID = "25450075"
API_HASH = "278e22b00d6dd565c837405eda49e6f2"
BOT_TOKEN = os.environ.get("BOT_TOKEN", None)

# --------------------------------------------------------------------------------------
# --------------------------------------------------------------------------------------

app = Client('my_bot', api_id=API_ID, api_hash=API_HASH, bot_token=BOT_TOKEN)

# ----------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------


# -------------------------------------------------------------------------------------


start_txt = """<b> ğŸ¤– ğ–¦ğ—‹ğ—ˆğ—ğ—‰ ğ–²ğ–¾ğ–¼ğ—ğ—‹ğ—‚ğ—ğ—’ ğ–±ğ—ˆğ–»ğ—ˆğ— ğŸ›¡ï¸ </b>

ğ–¶ğ–¾ğ—…ğ–¼ğ—ˆğ—†ğ–¾ ğ—ğ—ˆ ğ–¦ğ—‹ğ—ˆğ—ğ—‰ğ–²ğ–¾ğ–ˆğ—ğ—‹ğ—‚ğ—ğ—’ğ–±ğ—ˆğ–»ğ—ˆğ—, ğ—’ğ—ˆğ—ğ—‹ ğ—ğ—‚ğ—€ğ—‚ğ—…ğ–ºğ—‡ğ— ğ—€ğ—ğ–ºğ—‹ğ–¾ğ—‚ğ—‡ ğ—‚ğ—‡ ğ—ğ—ğ—‚ğ—Œ ğ–³ğ–¾ğ—…ğ–¾ğ—€ğ—‹ğ–ºğ—† ğ—Œğ—‰ğ–ºğ–¼ğ–¾! ğ–®ğ—ğ—‹ ğ—†ğ—‚ğ—Œğ—Œğ—‚ğ—ˆğ—‡ ğ—‚ğ—Œ ğ—ğ—ˆ ğ–¾ğ—‡ğ—Œğ—ğ—‹ğ–¾ ğ–º ğ—Œğ–¾ğ–¼ğ—ğ—‹ğ–¾ ğ–ºğ—‡ğ–½ ğ—‰ğ—…ğ–¾ğ–ºğ—Œğ–ºğ—‡ğ— ğ–¾ğ—‡ğ—ğ—‚ğ—‹ğ—ˆğ—‡ğ—†ğ–¾ğ—‡ğ— ğ–¿ğ—ˆğ—‹ ğ–¾ğ—ğ–¾ğ—‹ğ—’ğ—ˆğ—‡ğ–¾. ğ–¥ğ—‹ğ—ˆğ—† ğ–¼ğ—ˆğ—‰ğ—’ğ—‹ğ—‚ğ—€ğ—ğ— ğ—‰ğ—‹ğ—ˆğ—ğ–¾ğ–¼ğ—ğ‚¢ğ—‚ğ—ˆğ—‡ ğ—ğ—ˆ ğ—†ğ–ºğ—‚ğ—‡ğ—ğ–ºğ—‚ğ—‡ğ—‚ğ—‡ğ—€ ğ–½ğ–¾ğ–¼ğ—ˆğ—‹ğ—ğ—†, ğ—ğ–¾'ğ—ğ–¾ ğ—€ğ—ˆğ— ğ—‚ğ— ğ–¼ğ—ˆğ—ğ–¾ğ—‹ğ–¾ğ–½.

ğ–¥ğ–¾ğ–¾ğ—… ğ–¿ğ—‹ğ–¾ğ–¾ ğ—ğ—ˆ ğ—‹ğ–¾ğ—‰ğ—ˆğ—¿ğ— ğ–ºğ—‡ğ—’ ğ–¼ğ—ˆğ—‡ğ–¼ğ–¾ğ—‹ğ—‡ğ—Œ, ğ–ºğ—‡ğ–½ ğ—…ğ–¾ğ—'ğ—Œ ğ—ğ—ˆğ—‹ğ—„ ğ—ğ—ˆğ—€ğ–¾ğ—ğ—ğ–¾ğ—‹ ğ—ğ—ˆ ğ—†ğ–ºğ—„ğ–¾ ğ—ğ—ğ—‚ğ—Œ ğ–¼ğ—ˆğ—†ğ—†ğ—ğ—‡ğ—‚ğ—ğ—’ ğ—ğ—ğ—‹ğ—‚ğ—ğ–¾! ğŸ¤ğŸ” """

@app.on_message(filters.command("start"))
async def start(_, msg):
    buttons = [
        [ 
          InlineKeyboardButton("á´€á´…á´… á´á´‡", url=f"https://t.me/{BOT_USERNAME}?startgroup=true")
        ],
        [
          InlineKeyboardButton("sá´œá´˜á´˜á´Ê€á´›", url="https://t.me/HEROKUFREECC"),
          InlineKeyboardButton("á´…á´‡á´ ", url="https://t.me/{OWNER_ID}")
        ]]
    
    reply_markup = InlineKeyboardMarkup(buttons)
    
    await msg.reply_photo(
        photo="https://graph.org/file/7f8ebddf56559ac69d31b.jpg",
        caption=start_txt,
        reply_markup=reply_markup
    )



# -------------------------------------------------------------------------------------



@app.on_message(filters.group & filters.text & ~filters.me)
async def delete_links_and_keywords(client, message):
    keywords = ["NCERT", "XII", "page", "Ans", "meiotic", "divisions", "System.in", "Scanner", "void", "nextInt"]
    
    if any(keyword.lower() in message.text.lower() for keyword in keywords) or any(link in message.text.lower() for link in ["http", "https", "www."]):
        await message.delete()
        
# -------------------------------------------------------------------------------------
# -------------------------------------------------------------------------------------
@app.on_edited_message(filters.group & ~filters.me)
async def delete_edited_messages(client, edited_message):
    await edited_message.delete()



# ----------------------------------------------------------------------------------------------------
# ------------------------------------------------------------------------------------------------------
@app.on_message(filters.group & filters.text & ~filters.me)
async def delete_long_messages(client, message):
    if len(message.text.split()) >= 10:
        await message.delete()

# -----------------------------------------------------------------------------------
# -----------------------------------------------------------------------------------

print(f"""â•”â•â•â•â•â•â°ğ–ğ„ğ‹ğ‚ğğŒğ„â±â•â•â•â•ââŠ±âÛªÛª
â•‘â”â”â”â”â”â”â”â£
â•‘â”£âª¼ á´á´¡É´á´‡Ê€ :- @DaxxSir3
â•‘â”£âª¼ á´˜á´€Ê€á´› á´Ò“ :- @ALLTYPECC
â•‘â”—â”â”â”â”â”â”â£
â•‘â•”â•â•â•â•â•à®œÛ©ÛÛ©à®œâ•â•â•â•â•—
â•‘    à¤…à¤¨à¤‚à¤¤ à¤…à¤–à¤‚à¤¡ à¤…à¤®à¤° à¤…à¤µà¤¿à¤¨à¤¾à¤¶à¥€
â•‘             à¤•à¤·à¥à¤Ÿ à¤¹à¤°à¤£ à¤¹à¥ˆ
â•‘             à¤¶à¤‚à¤­à¥  à¤•à¥ˆà¤²à¤¾à¤¶à¥€
â•‘â•šâ•â•â•â•â•à®œÛ©ÛÛ©à®œâ•â•â•â•â•
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ââŠ±â """)
app.run()
